      SUBROUTINE LOCAL(X,Y,Z,XS,YS,ZS)
      IMPLICIT REAL*8 (A-H,O-Z)
C
C     CALCULATE THE COORDINATES (XS,YS,ZS) OF A POINT IN THE LOCAL
C     FRAME GIVEN THE COORDINATES (X,Y,Z) IN THE MASTER FRAME
C
      COMMON/FRAME/U1,U2,U3,V1,V2,V3,W1,W2,W3,X0,Y0,Z0
      XS=U1*(X-X0)+U2*(Y-Y0)+U3*(Z-Z0)
      YS=V1*(X-X0)+V2*(Y-Y0)+V3*(Z-Z0)
      ZS=W1*(X-X0)+W2*(Y-Y0)+W3*(Z-Z0)
      RETURN
      END
